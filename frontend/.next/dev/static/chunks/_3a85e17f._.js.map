{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/inbotiq_assgment/role-based-auth-app/frontend/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000\",\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,8EAAmC;AAC9C;uCAEe","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/inbotiq_assgment/role-based-auth-app/frontend/app/components/AdminRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport api from \"../../lib/axios\";\r\n\r\nexport default function AdminRoute({ children }: { children: React.ReactNode }) {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    // If no token → redirect to login\r\n    if (!token) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const verifyAdmin = async () => {\r\n      try {\r\n        const res = await api.get(\"/auth/me\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        if (res.data.role === \"admin\") {\r\n          setIsAdmin(true); // admin allowed\r\n        } else {\r\n          router.push(\"/unauthorized\"); // ❌ NOT admin → redirect\r\n        }\r\n      } catch (error) {\r\n        router.push(\"/login\"); // token invalid → login\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    verifyAdmin();\r\n  }, [router]);\r\n\r\n  // Loading UI\r\n  if (loading)\r\n    return (\r\n      <div className=\"h-screen flex items-center justify-center text-white text-xl\">\r\n        Checking admin permissions...\r\n      </div>\r\n    );\r\n\r\n  // Non-admin users will already be redirected, so return null\r\n  if (!isAdmin) return null;\r\n\r\n  // If admin → render page\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,WAAW,EAAE,QAAQ,EAAiC;;IAC5E,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;gCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,kCAAkC;YAClC,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM;oDAAc;oBAClB,IAAI;wBACF,MAAM,MAAM,MAAM,0HAAG,CAAC,GAAG,CAAC,YAAY;4BACpC,SAAS;gCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;4BAAC;wBAC9C;wBAEA,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;4BAC7B,WAAW,OAAO,gBAAgB;wBACpC,OAAO;4BACL,OAAO,IAAI,CAAC,kBAAkB,yBAAyB;wBACzD;oBACF,EAAE,OAAO,OAAO;wBACd,OAAO,IAAI,CAAC,WAAW,wBAAwB;oBACjD,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;+BAAG;QAAC;KAAO;IAEX,aAAa;IACb,IAAI,SACF,qBACE,6LAAC;QAAI,WAAU;kBAA+D;;;;;;IAKlF,6DAA6D;IAC7D,IAAI,CAAC,SAAS,OAAO;IAErB,yBAAyB;IACzB,qBAAO;kBAAG;;AACZ;GAhDwB;;QACP,kJAAS;;;KADF","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/inbotiq_assgment/role-based-auth-app/frontend/app/admin/manage-users/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport AdminRoute from \"../../components/AdminRoute\";\r\nimport { FaUserShield, FaUsers, FaCheckCircle } from \"react-icons/fa\";\r\n\r\nexport default function ManageUsersPage() {\r\n  const dummyUsers = [\r\n    { name: \"John Doe\", email: \"john@example.com\", role: \"user\", status: \"Active\" },\r\n    { name: \"Raghu Admin\", email: \"admin@example.com\", role: \"admin\", status: \"Active\" },\r\n    { name: \"Demo User\", email: \"demo@example.com\", role: \"user\", status: \"Active\" },\r\n  ];\r\n\r\n  return (\r\n    <AdminRoute>\r\n      <div className=\"min-h-screen bg-gradient-to-b from-purple-600 via-indigo-600 to-blue-600 p-10 text-white\">\r\n\r\n        {/* Header */}\r\n        <div className=\"flex items-center gap-3 mb-10\">\r\n          <FaUserShield size={35} />\r\n          <h1 className=\"text-4xl font-bold\">Manage Users</h1>\r\n        </div>\r\n\r\n        <p className=\"opacity-80 mb-6\">This page is visible only to admins.</p>\r\n\r\n        {/* Table Container */}\r\n        <div className=\"bg-white/10 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20\">\r\n          <h2 className=\"text-2xl font-semibold mb-4 flex items-center gap-2\">\r\n            <FaUsers /> User List\r\n          </h2>\r\n\r\n          <table className=\"w-full text-left\">\r\n            <thead>\r\n              <tr className=\"text-sm uppercase opacity-70 border-b border-white/20\">\r\n                <th className=\"py-3\">Name</th>\r\n                <th className=\"py-3\">Email</th>\r\n                <th className=\"py-3\">Role</th>\r\n                <th className=\"py-3\">Status</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {dummyUsers.map((user, idx) => (\r\n                <tr key={idx} className=\"border-b border-white/10 hover:bg-white/5 transition\">\r\n                  <td className=\"py-3\">{user.name}</td>\r\n                  <td className=\"py-3\">{user.email}</td>\r\n                  <td className=\"py-3\">\r\n                    <span\r\n                      className={`px-3 py-1 rounded-full text-xs ${\r\n                        user.role === \"admin\"\r\n                          ? \"bg-green-600/30 border border-green-400\"\r\n                          : \"bg-blue-600/30 border border-blue-400\"\r\n                      }`}\r\n                    >\r\n                      {user.role}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"py-3\">\r\n                    <span className=\"flex items-center gap-2 text-green-300\">\r\n                      <FaCheckCircle /> {user.status}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </AdminRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,aAAa;QACjB;YAAE,MAAM;YAAY,OAAO;YAAoB,MAAM;YAAQ,QAAQ;QAAS;QAC9E;YAAE,MAAM;YAAe,OAAO;YAAqB,MAAM;YAAS,QAAQ;QAAS;QACnF;YAAE,MAAM;YAAa,OAAO;YAAoB,MAAM;YAAQ,QAAQ;QAAS;KAChF;IAED,qBACE,6LAAC,8IAAU;kBACT,cAAA,6LAAC;YAAI,WAAU;;8BAGb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,iKAAY;4BAAC,MAAM;;;;;;sCACpB,6LAAC;4BAAG,WAAU;sCAAqB;;;;;;;;;;;;8BAGrC,6LAAC;oBAAE,WAAU;8BAAkB;;;;;;8BAG/B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;;8CACZ,6LAAC,4JAAO;;;;;gCAAG;;;;;;;sCAGb,6LAAC;4BAAM,WAAU;;8CACf,6LAAC;8CACC,cAAA,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DAAO;;;;;;0DACrB,6LAAC;gDAAG,WAAU;0DAAO;;;;;;0DACrB,6LAAC;gDAAG,WAAU;0DAAO;;;;;;0DACrB,6LAAC;gDAAG,WAAU;0DAAO;;;;;;;;;;;;;;;;;8CAIzB,6LAAC;8CACE,WAAW,GAAG,CAAC,CAAC,MAAM,oBACrB,6LAAC;4CAAa,WAAU;;8DACtB,6LAAC;oDAAG,WAAU;8DAAQ,KAAK,IAAI;;;;;;8DAC/B,6LAAC;oDAAG,WAAU;8DAAQ,KAAK,KAAK;;;;;;8DAChC,6LAAC;oDAAG,WAAU;8DACZ,cAAA,6LAAC;wDACC,WAAW,CAAC,+BAA+B,EACzC,KAAK,IAAI,KAAK,UACV,4CACA,yCACJ;kEAED,KAAK,IAAI;;;;;;;;;;;8DAGd,6LAAC;oDAAG,WAAU;8DACZ,cAAA,6LAAC;wDAAK,WAAU;;0EACd,6LAAC,kKAAa;;;;;4DAAG;4DAAE,KAAK,MAAM;;;;;;;;;;;;;2CAhB3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BzB;KAhEwB","debugId":null}}]
}